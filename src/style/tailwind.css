@layer theme, base, components, utilities;
@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/utilities.css" layer(utilities);

@custom-variant dark (&:is(.dark *));

@theme {
  --color-bg_color: var(--el-bg-color);
  --color-primary: var(--el-color-primary);
  --color-text_color_primary: var(--el-text-color-primary);
  --color-text_color_regular: var(--el-text-color-regular);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

/* ===== 新增: 玻璃拟态组件类 ===== */
@layer components {
  /* 基础玻璃拟态容器 */
  .glass-refined {
    @apply bg-white/60 backdrop-blur-sm border border-slate-200/60 rounded-2xl transition-all duration-300;
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.03),
      0 4px 8px rgba(0, 0, 0, 0.04);
  }

  .glass-elevated {
    @apply bg-white/80 backdrop-blur-md border border-slate-300/80 rounded-2xl transition-all duration-300;
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.06),
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 12px 24px rgba(0, 0, 0, 0.04);
  }

  .glass-floating {
    @apply bg-white/40 backdrop-blur-lg border border-slate-200/40 rounded-2xl transition-all duration-300;
    box-shadow:
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 16px 32px rgba(0, 0, 0, 0.1),
      0 24px 48px rgba(0, 0, 0, 0.08);
  }

  /* 深色模式 */
  .dark .glass-refined {
    @apply bg-slate-900/60 border-slate-700/60 text-slate-100;
  }

  .dark .glass-elevated {
    @apply bg-slate-900/80 border-slate-600/80 text-slate-100;
  }

  .dark .glass-floating {
    @apply bg-slate-900/40 border-slate-700/40 text-slate-100;
  }

  /* 交互效果组合 */
  .hover-glass-lift {
    @apply hover:bg-white/80 hover:border-slate-300/80 hover:-translate-y-1 hover:cursor-pointer;
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-glass-lift:hover {
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.06),
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 12px 24px rgba(0, 0, 0, 0.04);
  }

  .hover-glass-subtle {
    @apply hover:bg-white/70 hover:scale-105 hover:cursor-pointer;
  }

  /* 聚焦环 */
  .focus-ring {
    @apply focus:outline-none focus:ring-4 focus:ring-blue-500/20;
  }

  /* 禁用状态 */
  .disabled-state {
    @apply opacity-50 cursor-not-allowed;
  }

  /* 渐变文本 */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-blue-600 to-sky-500 bg-clip-text text-transparent;
  }

  .text-gradient-success {
    @apply bg-gradient-to-r from-green-500 to-emerald-500 bg-clip-text text-transparent;
  }

  .text-gradient-warning {
    @apply bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent;
  }

  .text-gradient-error {
    @apply bg-gradient-to-r from-red-600 to-red-900 bg-clip-text text-transparent;
  }

  /* 渐变背景 */
  .bg-gradient-glass-primary {
    @apply bg-gradient-to-br from-blue-50/80 via-blue-50/60 to-cyan-50/80;
  }

  .bg-gradient-glass-success {
    @apply bg-gradient-to-br from-green-50/80 via-green-50/60 to-emerald-50/80;
  }

  .bg-gradient-glass-warning {
    @apply bg-gradient-to-br from-yellow-50/80 via-yellow-50/60 to-orange-50/80;
  }
}

@layer utilities {
  /* 阴影分层系统 */
  .shadow-soft {
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.03),
      0 4px 8px rgba(0, 0, 0, 0.04);
  }

  .shadow-elevated {
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.06),
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 12px 24px rgba(0, 0, 0, 0.04);
  }

  .shadow-floating {
    box-shadow:
      0 8px 16px rgba(0, 0, 0, 0.08),
      0 16px 32px rgba(0, 0, 0, 0.1),
      0 24px 48px rgba(0, 0, 0, 0.08);
  }

  .shadow-glow {
    box-shadow:
      0 0 20px rgba(59, 130, 246, 0.3),
      0 8px 24px rgba(0, 0, 0, 0.08);
  }

  /* 纯色阴影(可选) */
  .shadow-inset {
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
  }

  /* 透明度工具 */
  .bg-white-40 {
    background-color: rgba(255, 255, 255, 0.4);
  }
  .bg-white-60 {
    background-color: rgba(255, 255, 255, 0.6);
  }
  .bg-white-80 {
    background-color: rgba(255, 255, 255, 0.8);
  }

  .bg-black-40 {
    background-color: rgba(0, 0, 0, 0.4);
  }
  .bg-black-60 {
    background-color: rgba(0, 0, 0, 0.6);
  }

  /* 边框颜色透明度 */
  .border-glass-light {
    border-color: rgba(226, 232, 240, 0.4);
  }
  .border-glass-medium {
    border-color: rgba(226, 232, 240, 0.6);
  }
  .border-glass-dark {
    border-color: rgba(203, 213, 225, 0.8);
  }

  /* 毛玻璃强度 */
  .backdrop-blur-xs {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }
  .backdrop-blur-sm {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  .backdrop-blur-md {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }
  .backdrop-blur-lg {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* 组合过渡 */
  .transition-glass {
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-glass-fast {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-glass-slow {
    transition: all 500ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* 玻璃背景降级方案检测 */
  @supports not (backdrop-filter: blur(1px)) {
    .glass-refined {
      background-color: rgba(255, 255, 255, 0.95);
    }
    .glass-elevated {
      background-color: rgba(255, 255, 255, 0.98);
    }
  }
}

/* 现有的自定义实用类保持不变 */
@utility flex-c {
  @apply flex justify-center items-center;
}

@utility flex-ac {
  @apply flex justify-around items-center;
}

@utility flex-bc {
  @apply flex justify-between items-center;
}

@utility navbar-bg-hover {
  @apply dark:text-white dark:hover:bg-[#242424]!;
}
