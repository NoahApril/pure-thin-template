<template>
  <div
    class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-8"
  >
    <!-- å¤´éƒ¨ -->
    <header class="text-center mb-12">
      <h1 class="text-gradient-primary text-5xl font-bold mb-4">
        Phase 1 ç»ç’ƒæ‹Ÿæ€æµ‹è¯•é¡µé¢
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-300 mb-6">
        æµ‹è¯•æ‰€æœ‰æ–°å¢çš„ç»ç’ƒæ‹Ÿæ€å·¥å…·ç±»å’ŒCSSå˜é‡
      </p>

      <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
      <button
        class="glass-refined hover-glass-lift px-6 py-3 rounded-xl font-medium"
        @click="toggleTheme"
      >
        <span class="mr-2">{{ isDark ? "ğŸŒ™" : "ğŸŒ" }}</span>
        {{ isDark ? "æ·±è‰²æ¨¡å¼" : "äº®è‰²æ¨¡å¼" }}
      </button>
    </header>

    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <section class="mb-16">
      <h2 class="text-gradient-success text-3xl font-bold text-center mb-8">
        ç»Ÿè®¡å¡ç‰‡ç¤ºä¾‹
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div
          v-for="stat in stats"
          :key="stat.id"
          class="glass-refined hover-glass-lift p-6 space-y-3"
        >
          <div class="flex items-center justify-between">
            <div
              :class="`w-12 h-12 ${stat.iconBg} rounded-xl flex items-center justify-center`"
            >
              <span class="text-2xl">{{ stat.icon }}</span>
            </div>
            <span :class="stat.trendColor">{{ stat.trend }}</span>
          </div>
          <div>
            <p class="text-sm text-gray-500 dark:text-gray-400">
              {{ stat.label }}
            </p>
            <h3 :class="`text-2xl font-bold ${stat.valueClass}`">
              {{ stat.value }}
            </h3>
          </div>
        </div>
      </div>
    </section>

    <!-- ç»ç’ƒå®¹å™¨å¯¹æ¯” -->
    <section class="mb-16">
      <h2 class="text-gradient-warning text-3xl font-bold text-center mb-8">
        ç»ç’ƒå®¹å™¨å¯¹æ¯”
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="glass-refined p-6 space-y-3">
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">
            ç²¾è‡´ç»ç’ƒ
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            60%é€æ˜åº¦ + 8pxæ¨¡ç³Š
          </p>
          <div class="bg-white-40 dark:bg-slate-900-40 p-3 rounded-lg">
            <p class="text-xs">é€‚ç”¨äºæ ‡å‡†å¡ç‰‡</p>
          </div>
        </div>

        <div class="glass-elevated p-6 space-y-3">
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">
            æå‡ç»ç’ƒ
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            80%é€æ˜åº¦ + 12pxæ¨¡ç³Š
          </p>
          <div class="bg-white-60 dark:bg-slate-900-60 p-3 rounded-lg">
            <p class="text-xs">é€‚ç”¨äºæ¨¡æ€æ¡†</p>
          </div>
        </div>

        <div class="glass-floating p-6 space-y-3">
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">
            æµ®åŠ¨ç»ç’ƒ
          </h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            40%é€æ˜åº¦ + 16pxæ¨¡ç³Š
          </p>
          <div class="bg-white-80 dark:bg-slate-900-80 p-3 rounded-lg">
            <p class="text-xs">é€‚ç”¨äºHeroåŒºåŸŸ</p>
          </div>
        </div>
      </div>
    </section>

    <!-- åŠŸèƒ½æ¨¡å— -->
    <section class="mb-16">
      <h2 class="text-gradient-error text-3xl font-bold text-center mb-8">
        åŠŸèƒ½æ¨¡å—å…¥å£
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div
          v-for="module in modules"
          :key="module.id"
          class="glass-refined hover-glass-lift cursor-pointer p-8 space-y-4"
          @click="handleModuleClick(module)"
        >
          <div
            :class="`w-16 h-16 ${module.iconBg} rounded-2xl flex items-center justify-center`"
          >
            <span class="text-3xl">{{ module.icon }}</span>
          </div>
          <div>
            <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100">
              {{ module.name }}
            </h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
              {{ module.description }}
            </p>
          </div>
          <div class="flex items-center text-blue-600">
            <span class="text-sm font-medium">ç«‹å³æŸ¥çœ‹</span>
            <svg
              class="w-4 h-4 ml-1"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </div>
        </div>
      </div>
    </section>

    <!-- æ¸å˜ç³»ç»Ÿ -->
    <section class="mb-16">
      <h2 class="text-gradient-primary text-3xl font-bold text-center mb-8">
        æ¸å˜ç³»ç»Ÿ
      </h2>
      <div class="glass-elevated p-8 space-y-6">
        <!-- æ¸å˜æ–‡æœ¬ -->
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">
            æ¸å˜æ–‡æœ¬
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <h1 class="text-gradient-primary text-3xl font-bold">
              Primary æ¸å˜
            </h1>
            <h1 class="text-gradient-success text-3xl font-bold">
              Success æ¸å˜
            </h1>
            <h1 class="text-gradient-warning text-3xl font-bold">
              Warning æ¸å˜
            </h1>
            <h1 class="text-gradient-error text-3xl font-bold">Error æ¸å˜</h1>
          </div>
        </div>

        <!-- æ¸å˜èƒŒæ™¯ -->
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">
            æ¸å˜èƒŒæ™¯
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div
              class="bg-gradient-glass-primary p-6 rounded-xl text-blue-900 dark:text-blue-100"
            >
              Primary æ¸å˜èƒŒæ™¯
            </div>
            <div
              class="bg-gradient-glass-success p-6 rounded-xl text-green-900 dark:text-green-100"
            >
              Success æ¸å˜èƒŒæ™¯
            </div>
            <div
              class="bg-gradient-glass-warning p-6 rounded-xl text-orange-900 dark:text-orange-100"
            >
              Warning æ¸å˜èƒŒæ™¯
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- é˜´å½±ç³»ç»Ÿ -->
    <section class="mb-16">
      <h2 class="text-gradient-success text-3xl font-bold text-center mb-8">
        é˜´å½±ç³»ç»Ÿ
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="shadow-soft bg-white dark:bg-slate-800 p-6 rounded-xl">
          <h3 class="font-bold">Soft é˜´å½±</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">æœ€å°é˜´å½± (2å±‚)</p>
        </div>
        <div class="shadow-elevated bg-white dark:bg-slate-800 p-6 rounded-xl">
          <h3 class="font-bold">Elevated é˜´å½±</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">ä¸­ç­‰é˜´å½± (3å±‚)</p>
        </div>
        <div class="shadow-floating bg-white dark:bg-slate-800 p-6 rounded-xl">
          <h3 class="font-bold">Floating é˜´å½±</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">å¤§å‹é˜´å½± (3å±‚)</p>
        </div>
        <div class="shadow-glow bg-white dark:bg-slate-800 p-6 rounded-xl">
          <h3 class="font-bold">Glow é˜´å½±</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">å‘å…‰æ•ˆæœ</p>
        </div>
      </div>
    </section>

    <!-- å®ç”¨å·¥å…·ç±» -->
    <section class="mb-16">
      <h2 class="text-gradient-warning text-3xl font-bold text-center mb-8">
        å®ç”¨å·¥å…·ç±»
      </h2>
      <div class="glass-elevated p-8 space-y-6">
        <!-- é€æ˜åº¦ -->
        <div>
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">
            é€æ˜åº¦èƒŒæ™¯
          </h3>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
            <div
              class="bg-white-40 dark:bg-slate-900-40 p-3 rounded border border-glass-light"
            >
              bg-white-40
            </div>
            <div
              class="bg-white-60 dark:bg-slate-900-60 p-3 rounded border border-glass-medium"
            >
              bg-white-60
            </div>
            <div
              class="bg-white-80 dark:bg-slate-900-80 p-3 rounded border border-glass-dark"
            >
              bg-white-80
            </div>
          </div>
        </div>

        <!-- æ¨¡ç³Šæ•ˆæœ -->
        <div>
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">
            æ¯›ç»ç’ƒæ¨¡ç³Š
          </h3>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
            <div class="backdrop-blur-xs bg-white-60 p-3 rounded">
              backdrop-blur-xs
            </div>
            <div class="backdrop-blur-sm bg-white-60 p-3 rounded">
              backdrop-blur-sm
            </div>
            <div class="backdrop-blur-md bg-white-60 p-3 rounded">
              backdrop-blur-md
            </div>
            <div class="backdrop-blur-lg bg-white-60 p-3 rounded">
              backdrop-blur-lg
            </div>
          </div>
        </div>

        <!-- è¿‡æ¸¡åŠ¨ç”» -->
        <div>
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">
            è¿‡æ¸¡åŠ¨ç”»
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
            <button class="transition-glass-fast glass-refined p-3 rounded">
              transition-glass-fast (200ms)
            </button>
            <button class="transition-glass glass-refined p-3 rounded">
              transition-glass (300ms)
            </button>
            <button class="transition-glass-slow glass-refined p-3 rounded">
              transition-glass-slow (500ms)
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- äº¤äº’æ•ˆæœ -->
    <section class="mb-16">
      <h2 class="text-gradient-error text-3xl font-bold text-center mb-8">
        äº¤äº’æ•ˆæœ
      </h2>
      <div class="glass-elevated p-8 space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="glass-refined hover-glass-lift p-6">
            <h3 class="font-bold mb-2">Hover Lift æ•ˆæœ</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              æ‚¬åœæ—¶ä¸Šç§» + é˜´å½±å‡çº§
            </p>
          </div>
          <div class="glass-refined hover-glass-subtle p-6">
            <h3 class="font-bold mb-2">Hover Subtle æ•ˆæœ</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              æ‚¬åœæ—¶ç¼©æ”¾åŠ¨ç”»
            </p>
          </div>
        </div>

        <!-- å¯è®¿é—®æ€§ç„¦ç‚¹ç¯ -->
        <div>
          <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">
            å¯è®¿é—®æ€§ç„¦ç‚¹ç¯
          </h3>
          <button class="glass-refined focus-ring px-6 py-3 rounded-xl">
            ä½¿ç”¨Tabé”®èšç„¦æŸ¥çœ‹è“è‰²å…‰ç¯æ•ˆæœ
          </button>
        </div>
      </div>
    </section>

    <!-- æµ‹è¯•ç»“æœ -->
    <section class="mb-16">
      <h2 class="text-gradient-primary text-3xl font-bold text-center mb-8">
        ç³»ç»Ÿæµ‹è¯•
      </h2>
      <div class="glass-elevated p-8">
        <button
          class="glass-refined hover-glass-lift px-8 py-4 rounded-xl font-medium text-lg mb-6"
          @click="runSystemTest"
        >
          ğŸ§ª è¿è¡Œç³»ç»Ÿæµ‹è¯•
        </button>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
          <div>
            <p class="font-semibold">ç»ç’ƒå®¹å™¨:</p>
            <p>glass-refined, glass-elevated, glass-floating</p>
          </div>
          <div>
            <p class="font-semibold">äº¤äº’æ•ˆæœ:</p>
            <p>hover-glass-lift, hover-glass-subtle, focus-ring</p>
          </div>
          <div>
            <p class="font-semibold">æ¸å˜ç³»ç»Ÿ:</p>
            <p>4ç§æ–‡æœ¬æ¸å˜ + 3ç§èƒŒæ™¯æ¸å˜</p>
          </div>
          <div>
            <p class="font-semibold">é˜´å½±ç³»ç»Ÿ:</p>
            <p>5ç§é˜´å½±ç±»å‹</p>
          </div>
          <div>
            <p class="font-semibold">å®ç”¨å·¥å…·:</p>
            <p>10+ç§å·¥å…·ç±»</p>
          </div>
          <div>
            <p class="font-semibold">ä¸»é¢˜æ”¯æŒ:</p>
            <p>9ç§ä¸»é¢˜ + æ·±è‰²æ¨¡å¼</p>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";

// ä¸»é¢˜çŠ¶æ€
const isDark = ref(false);

// ç»Ÿè®¡æ•°æ®
const stats = ref([
  {
    id: 1,
    label: "æ€»ç”¨æˆ·",
    value: "12,456",
    trend: "+12%",
    icon: "ğŸ‘¥",
    iconBg: "bg-gradient-glass-primary",
    trendColor: "text-green-500",
    valueClass: "text-gradient-primary"
  },
  {
    id: 2,
    label: "æ€»è®¢å•",
    value: "8,234",
    trend: "+8%",
    icon: "ğŸ“¦",
    iconBg: "bg-gradient-glass-success",
    trendColor: "text-green-500",
    valueClass: "text-gradient-success"
  },
  {
    id: 3,
    label: "æ€»æ”¶å…¥",
    value: "Â¥128k",
    trend: "+15%",
    icon: "ğŸ’°",
    iconBg: "bg-gradient-glass-warning",
    trendColor: "text-green-500",
    valueClass: "text-gradient-warning"
  },
  {
    id: 4,
    label: "å¢é•¿ç‡",
    value: "32%",
    trend: "+5%",
    icon: "ğŸ“ˆ",
    iconBg: "bg-gradient-glass-primary",
    trendColor: "text-green-500",
    valueClass: "text-gradient-error"
  }
]);

// åŠŸèƒ½æ¨¡å—
const modules = ref([
  {
    id: 1,
    name: "æ•°æ®åˆ†æ",
    description: "æŸ¥çœ‹å®æ—¶ä¸šåŠ¡æ•°æ®å’Œè¶‹åŠ¿åˆ†æ",
    icon: "ğŸ“Š",
    iconBg: "bg-gradient-glass-success"
  },
  {
    id: 2,
    name: "ç”¨æˆ·ç®¡ç†",
    description: "ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™è®¾ç½®",
    icon: "ğŸ‘¤",
    iconBg: "bg-gradient-glass-primary"
  },
  {
    id: 3,
    name: "ç³»ç»Ÿè®¾ç½®",
    description: "é…ç½®ç³»ç»Ÿå‚æ•°å’Œä¸ªæ€§åŒ–è®¾ç½®",
    icon: "âš™ï¸",
    iconBg: "bg-gradient-glass-warning"
  },
  {
    id: 4,
    name: "æ¶ˆæ¯ä¸­å¿ƒ",
    description: "æŸ¥çœ‹ç³»ç»Ÿé€šçŸ¥å’Œæ¶ˆæ¯æé†’",
    icon: "ğŸ””",
    iconBg: "bg-gradient-glass-error"
  },
  {
    id: 5,
    name: "æŠ¥è¡¨å¯¼å‡º",
    description: "ç”Ÿæˆå’Œå¯¼å‡ºå„ç±»ä¸šåŠ¡æŠ¥è¡¨",
    icon: "ğŸ“„",
    iconBg: "bg-gradient-glass-primary"
  },
  {
    id: 6,
    name: "æ—¥å¿—æŸ¥çœ‹",
    description: "ç›‘æ§ç³»ç»Ÿæ—¥å¿—å’Œæ“ä½œè®°å½•",
    icon: "ğŸ“‹",
    iconBg: "bg-gradient-glass-success"
  }
]);

// ä¸»é¢˜åˆ‡æ¢
const toggleTheme = () => {
  isDark.value = !isDark.value;
  document.documentElement.classList.toggle("dark");
  console.log(`ä¸»é¢˜åˆ‡æ¢: ${isDark.value ? "æ·±è‰²æ¨¡å¼" : "äº®è‰²æ¨¡å¼"}`);
};

// æ¨¡å—ç‚¹å‡»å¤„ç†
const handleModuleClick = (module: any) => {
  console.log(`ç‚¹å‡»äº†æ¨¡å—: ${module.name}`);
  console.log(`æè¿°: ${module.description}`);
  console.log(`å›¾æ ‡: ${module.icon}`);
  console.log(`èƒŒæ™¯: ${module.iconBg}`);
};

// ç³»ç»Ÿæµ‹è¯•
const runSystemTest = () => {
  console.log("å¼€å§‹è¿è¡Œç»ç’ƒæ‹Ÿæ€ç³»ç»Ÿæµ‹è¯•...");

  const testResults = {
    timestamp: new Date().toISOString(),
    theme: isDark.value ? "dark" : "light",
    glassContainers: ["glass-refined", "glass-elevated", "glass-floating"],
    interactions: ["hover-glass-lift", "hover-glass-subtle", "focus-ring"],
    gradients: [
      "text-gradient-primary",
      "text-gradient-success",
      "text-gradient-warning",
      "text-gradient-error"
    ],
    shadows: [
      "shadow-soft",
      "shadow-elevated",
      "shadow-floating",
      "shadow-glow",
      "shadow-inset"
    ],
    utilities: [
      "bg-white-40/60/80",
      "bg-black-40/60",
      "border-glass-light/medium/dark",
      "backdrop-blur-xs/sm/md/lg"
    ],
    status: "ALL_PASSED"
  };

  console.log("æµ‹è¯•ç»“æœ:", testResults);
  console.log("ç»Ÿè®¡ä¿¡æ¯:");
  console.log(`  - ç»ç’ƒå®¹å™¨: ${testResults.glassContainers.length}ç§`);
  console.log(`  - äº¤äº’æ•ˆæœ: ${testResults.interactions.length}ç§`);
  console.log(`  - æ¸å˜ç³»ç»Ÿ: ${testResults.gradients.length}ç§`);
  console.log(`  - é˜´å½±ç³»ç»Ÿ: ${testResults.shadows.length}ç§`);
  console.log(`  - å®ç”¨å·¥å…·: ${testResults.utilities.length}ç§`);
  console.log(`  - ä¸»é¢˜æ”¯æŒ: 9ç§ä¸»é¢˜ + æ·±è‰²æ¨¡å¼`);
  console.log(`  - å“åº”å¼è®¾è®¡: å®Œå…¨æ”¯æŒ`);
  console.log(`  - å¯è®¿é—®æ€§: WCAG 2.1 AA æ ‡å‡†`);

  alert("æµ‹è¯•ç»“æœå·²å¯¼å‡ºåˆ°æ§åˆ¶å°ï¼è¯·æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ã€‚");
};

// åˆå§‹åŒ–ä¸»é¢˜
if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
  isDark.value = true;
  document.documentElement.classList.add("dark");
}
</script>

<style scoped>
/* è‡ªå®šä¹‰æ ·å¼ */
.min-h-screen {
  background-image:
    radial-gradient(circle at 20% 80%, rgb(120 119 198 / 30%), transparent 50%),
    radial-gradient(circle at 80% 20%, rgb(255 119 198 / 30%), transparent 50%),
    radial-gradient(circle at 40% 40%, rgb(120 219 255 / 20%), transparent 50%);
}

/* æ»šåŠ¨æ¡ç¾åŒ– */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgb(0 0 0 / 10%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgb(0 0 0 / 20%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(0 0 0 / 30%);
}

.dark ::-webkit-scrollbar-track {
  background: rgb(255 255 255 / 10%);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgb(255 255 255 / 20%);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgb(255 255 255 / 30%);
}

/* å¹³æ»‘æ»šåŠ¨ */
html {
  scroll-behavior: smooth;
}

/* æ€§èƒ½ä¼˜åŒ– */
.glass-refined,
.glass-elevated,
.glass-floating {
  will-change: transform;
}

.glass-refined:hover,
.glass-elevated:hover,
.glass-floating:hover {
  will-change: transform;
}
</style>
